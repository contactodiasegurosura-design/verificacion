<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>D√≠a Seguro SURA | Verificaci√≥n de P√≥lizas</title>
<style>
body{font-family:Arial;background:#f4f6f8;margin:0}
header{background:#1f4fa3;color:#fff;padding:12px;text-align:center}
main{max-width:600px;margin:60px auto;text-align:center}
input,select,button{width:100%;padding:10px;margin:6px 0}
button{background:#1f4fa3;color:#fff;border:none;cursor:pointer}
.resultado{margin-top:20px;background:#fff;padding:15px;border-radius:6px}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6)}
.modal-content{background:#fff;max-width:400px;margin:80px auto;padding:20px;border-radius:8px}
footer{text-align:center;color:#666;margin-top:40px;font-size:13px}
</style>
</head>

<body>

<header>
<b>Portal oficial de verificaci√≥n ‚Äì D√≠a Seguro SURA</b>
</header>

<main>
<h2>Consulta y verificaci√≥n de p√≥lizas</h2>

<input id="buscarPoliza" placeholder="Ingrese n√∫mero de p√≥liza">
<button onclick="consultar()">Consultar</button>

<div id="resultado" class="resultado" style="display:none"></div>

<p style="margin-top:25px;font-size:14px">
¬øDudas o aclaraciones? √Årea de ventas y soporte.
</p>
</main>

<footer>
¬© D√≠a Seguro SURA ‚Äì Sistema de control y verificaci√≥n
</footer>

<!-- MODAL ADMIN -->
<div id="adminModal" class="modal">
<div class="modal-content">
<h3>Panel administrativo</h3>

<input type="password" id="adminPass" placeholder="Contrase√±a">
<button onclick="validarAdmin()">Entrar</button>

<div id="adminPanel" style="display:none">
<hr>

<input id="num" placeholder="N√∫mero (001-200)">
<input id="nombre" placeholder="Nombre del conductor">
<input id="marca" placeholder="Marca">
<input id="modelo" placeholder="Modelo">
<input id="anio" placeholder="A√±o">
<input id="color" placeholder="Color">

<select id="estatus">
<option>üü° EN PROCESO DE VENTA</option>
<option>üü¢ ACTIVA</option>
<option>üî¥ CANCELADA</option>
</select>

<select id="plan">
<option>Plus</option>
<option>B√°sico</option>
</select>

<select id="vigencia">
<option>Anual</option>
<option>Mensual</option>
</select>

<button onclick="guardar()">Guardar p√≥liza</button>
<button onclick="cerrar()">Cerrar</button>
</div>
</div>
</div>

<script>
const CLAVE_ADMIN="moreno476";
const PROTEGIDA="0332";

function getDB(){
return JSON.parse(localStorage.getItem("polizas")||"{}");
}
function setDB(db){
localStorage.setItem("polizas",JSON.stringify(db));
}

function consultar(){
const n=document.getElementById("buscarPoliza").value.trim();
const r=document.getElementById("resultado");
const db=getDB();
r.style.display="block";

if(n===PROTEGIDA){
r.innerHTML=`<b>P√≥liza 0332</b><br>
Marca: Chevrolet<br>
Modelo: Spark<br>
A√±o: 2017<br>
Color: ‚Äî<br>
Vigencia: Anual<br>
Estatus: üü¢ Activa`;
return;
}

if(!db[n]){
r.innerHTML="üü° P√≥liza en proceso de venta";
return;
}

const p=db[n];
r.innerHTML=`
<b>P√≥liza ${n}</b><br>
Conductor: ${p.nombre}<br>
Veh√≠culo: ${p.marca} ${p.modelo}<br>
A√±o: ${p.anio}<br>
Color: ${p.color}<br>
Plan: ${p.plan}<br>
Vigencia: ${p.vigencia}<br>
Estatus: ${p.estatus}`;
}

document.addEventListener("keydown",e=>{
if(e.ctrlKey && e.key.toLowerCase()=="d"){
e.preventDefault();
document.getElementById("adminModal").style.display="block";
}
});

function validarAdmin(){
if(document.getElementById("adminPass").value===CLAVE_ADMIN){
document.getElementById("adminPanel").style.display="block";
}else alert("Contrase√±a incorrecta");
}

document.getElementById("num").addEventListener("input",()=>{
const n=document.getElementById("num").value.trim();
const db=getDB();
if(db[n]){
const p=db[n];
nombre.value=p.nombre;
marca.value=p.marca;
modelo.value=p.modelo;
anio.value=p.anio;
color.value=p.color;
estatus.value=p.estatus;
plan.value=p.plan;
vigencia.value=p.vigencia;
}else{
nombre.value=marca.value=modelo.value=anio.value=color.value="";
estatus.value="üü° EN PROCESO DE VENTA";
plan.value="Plus";
vigencia.value="Anual";
}
});

function guardar(){
const n=num.value.trim();
if(n===PROTEGIDA){alert("Esta p√≥liza est√° protegida");return;}

const db=getDB();
db[n]={
nombre:nombre.value,
marca:marca.value,
modelo:modelo.value,
anio:anio.value,
color:color.value,
estatus:estatus.value,
plan:plan.value,
vigencia:vigencia.value
};
setDB(db);
alert("P√≥liza guardada / actualizada");
}

function cerrar(){
document.getElementById("adminModal").style.display="none";
document.getElementById("adminPanel").style.display="none";
document.getElementById("adminPass").value="";
}
</script>

</body>
</html>
