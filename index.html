<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal de verificaci√≥n de p√≥lizas | D√≠a Seguro</title>

<style>
body{margin:0;font-family:Segoe UI,Tahoma,sans-serif;background:#f4f7fb;text-align:center;color:#1a2a45}
header{background:linear-gradient(90deg,#002b5c,#007bff);color:#fff;padding:15px;font-weight:bold}
.card{background:#fff;max-width:420px;margin:30px auto;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,.1)}
input,select{width:90%;padding:10px;margin:5px;border-radius:6px;border:1px solid #ccc}
button{padding:8px 20px;border:none;border-radius:6px;background:#ff6600;color:#fff;cursor:pointer}
button:hover{background:#e65c00}
.detalles{margin-top:10px;padding:10px;border-radius:8px;background:#eef3fb}
footer{margin:30px;font-size:12px;color:#666}
.admin-btn{font-size:11px;color:#555;cursor:pointer;margin-top:20px}
#adminPanel{display:none;background:#fff;max-width:900px;margin:30px auto;padding:20px;border-radius:12px}
table{width:100%;border-collapse:collapse;font-size:12px}
th,td{border:1px solid #ccc;padding:6px}
th{background:#f0f0f0}
</style>
</head>

<body>

<header>üîí Portal de verificaci√≥n de p√≥lizas</header>

<div class="card" id="publico">
<input id="busqueda" placeholder="N√∫mero o nombre de p√≥liza">
<br><br>
<button onclick="verificar()">Buscar</button>
<div id="resultado"></div>
<div class="admin-btn" onclick="login()">Acceso administrativo</div>
</div>

<div id="adminPanel">
<h2>üîê Panel privado</h2>
<table id="tabla"></table>
<br>
<button onclick="guardar()">üíæ Guardar cambios</button>
<button onclick="cerrar()">Cerrar panel</button>
</div>

<footer>¬© 2026 D√≠a Seguro</footer>

<script>
const PASSWORD="admin123";

let polizasBase=[
{numero:"0332",nombre:"ALIN MONSERRAT SUASTEGUI MENDOZA",estatus:"üü° ACTIVA",plan:"Plus",vigencia:"ANUAL"},
{numero:"0360",nombre:"LEON ISAAC VARSHAVSKY MORENO",estatus:"üü° EN PROCESO DE PAGO PARA ACTIVACION",plan:"Plus",vigencia:"3 meses"}
];

for(let i=1;i<=50;i++){
  let n=i.toString().padStart(3,"0");
  polizasBase.push({numero:n,nombre:"P√≥liza sin vender",estatus:"üü° EN PROCESO DE VENTA",plan:"MULTIPLATAFORMA",vigencia:"3 meses"});
}

let polizas=JSON.parse(localStorage.getItem("polizas"))||polizasBase;

function verificar(){
  const b=busqueda.value.toLowerCase();
  const p=polizas.find(x=>x.numero===b||x.nombre.toLowerCase().includes(b));
  resultado.innerHTML=p?
  `<div class="detalles"><b>P√≥liza:</b> ${p.numero}<br><b>Nombre:</b> ${p.nombre}<br><b>Estatus:</b> ${p.estatus}<br><b>Plan:</b> ${p.plan}<br><b>Vigencia:</b> ${p.vigencia}</div>`
  :"‚ùå No encontrada";
}

function login(){
  const pass=prompt("Contrase√±a:");
  if(pass===PASSWORD){
    document.getElementById("publico").style.display="none";
    document.getElementById("adminPanel").style.display="block";
    renderTabla();
  }else alert("Contrase√±a incorrecta");
}

function renderTabla(){
  let html="<tr><th>#</th><th>Nombre</th><th>Estatus</th><th>Plan</th><th>Vigencia</th></tr>";
  polizas.forEach((p,i)=>{
    html+=`
    <tr>
      <td>${p.numero}</td>
      <td><input value="${p.nombre}" onchange="polizas[${i}].nombre=this.value"></td>
      <td><input value="${p.estatus}" onchange="polizas[${i}].estatus=this.value"></td>
      <td><input value="${p.plan}" onchange="polizas[${i}].plan=this.value"></td>
      <td><input value="${p.vigencia}" onchange="polizas[${i}].vigencia=this.value"></td>
    </tr>`;
  });
  tabla.innerHTML=html;
}

function guardar(){
  localStorage.setItem("polizas",JSON.stringify(polizas));
  alert("Cambios guardados");
}

function cerrar(){
  location.reload();
}
</script>

</body>
</html>