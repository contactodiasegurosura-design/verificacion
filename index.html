<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal oficial de verificaciÃ³n de pÃ³lizas DÃ­a Seguro SURA</title>

<style>
body{
  margin:0;
  font-family:Segoe UI,Tahoma,sans-serif;
  background:#f4f7fb;
  text-align:center;
  color:#1a2a45;
}

header{
  background:linear-gradient(90deg,#002b5c,#007bff);
  color:#fff;
  padding:18px;
  font-weight:bold;
  font-size:1.05em;
}

.logo img{
  width:180px;
  margin:25px 0;
  background:#fff;
  padding:10px;
  border-radius:8px;
  box-shadow:0 4px 10px rgba(0,0,0,.15);
}

.card{
  background:#fff;
  max-width:420px;
  margin:30px auto;
  padding:30px;
  border-radius:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.12);
}

input, select{
  width:85%;
  padding:10px;
  margin:6px 0;
  text-align:center;
  border-radius:6px;
  border:1px solid #ccc;
}

button{
  margin-top:10px;
  padding:10px 30px;
  background:#ff6600;
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.detalles{
  margin-top:10px;
  background:#eef3fb;
  padding:10px;
  border-radius:8px;
  font-size:.9em;
}
</style>
</head>

<body>

<header>ðŸ”’ Portal oficial de verificaciÃ³n DÃ­a Seguro SURA</header>

<div class="logo">
<img src="https://raw.githubusercontent.com/contactodiasegurosura-design/verificacion/b86f602d58b3e7f44656958b372d71edb83ffce3/logo-sura.png.jpg">
</div>

<h2>DÃ­a Seguro SURA</h2>
<p>Consulta y verificaciÃ³n de pÃ³lizas</p>

<div class="card">
<input id="busqueda" placeholder="NÃºmero o nombre de pÃ³liza"
onkeyup="if(event.key==='Enter') verificar()">
<br>
<button onclick="verificar()">Buscar</button>
<div id="resultado" style="margin-top:15px;font-weight:bold;"></div>
</div>

<!-- PANEL ADMIN OCULTO -->
<div id="adminPanel" class="card" style="display:none">
<h3>Panel Administrativo</h3>

<input type="password" id="adminPass" placeholder="ContraseÃ±a">
<button onclick="loginAdmin()">Entrar</button>

<div id="adminZona" style="display:none">
<hr>
<h4>Modificar estatus de pÃ³liza</h4>

<input id="editNumero" placeholder="NÃºmero de pÃ³liza">

<select id="editEstatus">
  <option>ðŸŸ¡ EN PROCESO DE VENTA</option>
  <option>ðŸŸ¡ EN PROCESO DE PAGO</option>
  <option>ðŸŸ¡ ACTIVA</option>
  <option>ðŸ”´ CANCELADA</option>
</select>

<button onclick="actualizarPoliza()">Guardar cambios</button>
</div>
</div>

<script>
/* ================= CONFIGURACIÃ“N ================= */
const ADMIN_PASS = "SURA2026";

/* ================= POLIZAS BASE ================= */
let polizasBase = [
  {
    numero:"0332",
    nombre:"ALIN MONSERRAT SUASTEGUI MENDOZA",
    estatus:"ðŸŸ¡ ACTIVA",
    plan:"Plus",
    vigencia:"ANUAL"
  }
];

// Generar pÃ³lizas 001 a 200
for(let i=1;i<=200;i++){
  polizasBase.push({
    numero:i.toString().padStart(3,"0"),
    nombre:"EN PROCESO DE VENTA",
    estatus:"ðŸŸ¡ EN PROCESO DE VENTA",
    plan:"Plus",
    vigencia:"3 meses"
  });
}

// Guardar solo la primera vez
if(!localStorage.getItem("polizas")){
  localStorage.setItem("polizas",JSON.stringify(polizasBase));
}

let polizas = JSON.parse(localStorage.getItem("polizas"));

/* ================= BUSCADOR ================= */
function verificar(){
  const b=document.getElementById("busqueda").value.trim().toLowerCase();
  const r=document.getElementById("resultado");

  const p=polizas.find(x =>
    x.numero===b || x.nombre.toLowerCase().includes(b)
  );

  r.innerHTML = p ? `
    <div>PÃ³liza ${p.numero} - ${p.nombre}</div>
    <div class="detalles">
      <b>Estatus:</b> ${p.estatus}<br>
      <b>Plan:</b> ${p.plan}<br>
      <b>Vigencia:</b> ${p.vigencia}
    </div>
  ` : "âŒ PÃ³liza no encontrada";
}

/* ================= COMBINACIÃ“N SECRETA ================= */
document.addEventListener("keydown",function(e){
  if(e.ctrlKey && e.shiftKey && e.key.toLowerCase()==="a"){
    document.getElementById("adminPanel").style.display="block";
  }
});

/* ================= ADMIN ================= */
function loginAdmin(){
  if(document.getElementById("adminPass").value===ADMIN_PASS){
    document.getElementById("adminZona").style.display="block";
  } else {
    alert("ContraseÃ±a incorrecta");
  }
}

function actualizarPoliza(){
  const num=document.getElementById("editNumero").value;
  const est=document.getElementById("editEstatus").value;

  if(num==="0332"){
    alert("La pÃ³liza 0332 no puede modificarse");
    return;
  }

  let p=polizas.find(x=>x.numero===num);
  if(!p){
    alert("PÃ³liza no encontrada");
    return;
  }

  p.estatus=est;
  localStorage.setItem("polizas",JSON.stringify(polizas));
  alert("Estatus actualizado correctamente");
}
</script>

</body>
</html>
