<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal oficial de verificaciÃ³n de pÃ³lizas DÃ­a Seguro SURA</title>

<style>
body{
  margin:0;
  font-family:Segoe UI,Tahoma,sans-serif;
  background:#f4f7fb;
  text-align:center;
  color:#1a2a45;
}

header{
  background:linear-gradient(90deg,#002b5c,#007bff);
  color:#fff;
  padding:18px;
  font-weight:bold;
}

.logo img{
  width:180px;
  margin:25px 0;
  background:#fff;
  padding:10px;
  border-radius:8px;
  box-shadow:0 4px 10px rgba(0,0,0,.15);
}

.card{
  background:#fff;
  max-width:420px;
  margin:25px auto;
  padding:25px;
  border-radius:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.12);
}

input, select{
  width:90%;
  padding:10px;
  margin:6px 0;
  border-radius:6px;
  border:1px solid #ccc;
  text-align:center;
}

button{
  padding:10px 25px;
  background:#ff6600;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.detalles{
  background:#eef3fb;
  margin-top:10px;
  padding:10px;
  border-radius:8px;
  font-size:.9em;
}

/* CHAT */
.chat{
  max-width:420px;
  margin:20px auto;
  background:#fff;
  border-radius:12px;
  box-shadow:0 4px 15px rgba(0,0,0,.12);
}

.chat-log{
  height:220px;
  overflow-y:auto;
  padding:10px;
  text-align:left;
  font-size:.9em;
}

.bot{color:#007bff}
.user{color:#ff6600}
</style>
</head>

<body>

<header>ðŸ”’ Portal oficial de verificaciÃ³n DÃ­a Seguro SURA</header>

<div class="logo">
<img src="https://raw.githubusercontent.com/contactodiasegurosura-design/verificacion/b86f602d58b3e7f44656958b372d71edb83ffce3/logo-sura.png.jpg">
</div>

<h2>DÃ­a Seguro SURA</h2>
<p>Consulta y verificaciÃ³n de pÃ³lizas</p>

<!-- BUSCADOR -->
<div class="card">
<input id="busqueda" placeholder="NÃºmero o nombre de pÃ³liza"
onkeyup="if(event.key==='Enter') verificar()">
<button onclick="verificar()">Buscar</button>
<div id="resultado"></div>
</div>

<!-- CHAT BOT -->
<div class="chat">
<h3>ðŸ’¬ Chat de informaciÃ³n</h3>
<div class="chat-log" id="chatLog">
<div class="bot">ðŸ¤– Bot: Hola, puedo darte informes de venta o consultar el estatus de una pÃ³liza.</div>
</div>
<input id="chatInput" placeholder="Escribe tu mensaje..."
onkeyup="if(event.key==='Enter') enviarChat()">
<button onclick="enviarChat()">Enviar</button>
</div>

<!-- PANEL ADMIN -->
<div id="adminPanel" class="card" style="display:none">
<h3>Panel Administrativo</h3>
<input type="password" id="adminPass" placeholder="ContraseÃ±a">
<button onclick="loginAdmin()">Entrar</button>

<div id="adminZona" style="display:none">
<hr>
<input id="editNumero" placeholder="NÃºmero de pÃ³liza">
<select id="editEstatus">
<option>ðŸŸ¡ EN PROCESO DE VENTA</option>
<option>ðŸŸ¡ EN PROCESO DE PAGO</option>
<option>ðŸŸ¡ ACTIVA</option>
<option>ðŸ”´ CANCELADA</option>
</select>
<button onclick="actualizarPoliza()">Guardar cambios</button>
</div>
</div>

<script>
/* ===== CONFIG ===== */
const ADMIN_PASS="SURA2026";

/* ===== POLIZAS ===== */
let polizasBase=[{
  numero:"0332",
  nombre:"ALIN MONSERRAT SUASTEGUI MENDOZA",
  estatus:"ðŸŸ¡ ACTIVA",
  plan:"Plus",
  vigencia:"ANUAL"
}];

for(let i=1;i<=200;i++){
  polizasBase.push({
    numero:i.toString().padStart(3,"0"),
    nombre:"EN PROCESO DE VENTA",
    estatus:"ðŸŸ¡ EN PROCESO DE VENTA",
    plan:"Plus",
    vigencia:"3 meses"
  });
}

if(!localStorage.getItem("polizas")){
  localStorage.setItem("polizas",JSON.stringify(polizasBase));
}

let polizas=JSON.parse(localStorage.getItem("polizas"));

/* ===== BUSCADOR ===== */
function verificar(){
  const b=document.getElementById("busqueda").value.toLowerCase();
  const r=document.getElementById("resultado");
  const p=polizas.find(x=>x.numero===b||x.nombre.toLowerCase().includes(b));
  r.innerHTML=p?`
  <div class="detalles">
  <b>PÃ³liza:</b> ${p.numero}<br>
  <b>Nombre:</b> ${p.nombre}<br>
  <b>Estatus:</b> ${p.estatus}
  </div>`:"âŒ PÃ³liza no encontrada";
}

/* ===== COMBINACIÃ“N SECRETA CTRL+S ===== */
document.addEventListener("keydown",e=>{
  if(e.ctrlKey && e.key.toLowerCase()==="s"){
    e.preventDefault();
    document.getElementById("adminPanel").style.display="block";
  }
});

/* ===== ADMIN ===== */
function loginAdmin(){
  if(document.getElementById("adminPass").value===ADMIN_PASS){
    document.getElementById("adminZona").style.display="block";
  }else alert("ContraseÃ±a incorrecta");
}

function actualizarPoliza(){
  const n=document.getElementById("editNumero").value;
  if(n==="0332"){alert("0332 protegida");return;}
  const p=polizas.find(x=>x.numero===n);
  if(!p){alert("No existe");return;}
  p.estatus=document.getElementById("editEstatus").value;
  localStorage.setItem("polizas",JSON.stringify(polizas));
  alert("Actualizada");
}

/* ===== CHAT BOT ===== */
function enviarChat(){
  const i=document.getElementById("chatInput");
  const t=i.value.toLowerCase();
  const l=document.getElementById("chatLog");
  if(!t)return;

  l.innerHTML+=`<div class="user">ðŸ‘¤ TÃº: ${i.value}</div>`;

  let r="No entendÃ­ tu mensaje.";
  if(t.includes("precio")||t.includes("venta")){
    r="Las pÃ³lizas estÃ¡n disponibles, solicita informes con un asesor autorizado.";
  }else if(t.includes("estatus")||t.includes("poliza")){
    const num=t.match(/\d+/);
    if(num){
      const p=polizas.find(x=>x.numero===num[0].padStart(3,"0"));
      r=p?`La pÃ³liza ${p.numero} estÃ¡ ${p.estatus}`:"No se encontrÃ³ esa pÃ³liza.";
    }
  }

  l.innerHTML+=`<div class="bot">ðŸ¤– Bot: ${r}</div>`;
  l.scrollTop=l.scrollHeight;
  i.value="";
}
</script>

</body>
</html>
