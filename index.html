<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verificaci贸n de P贸lizas | D铆a Seguro SURA</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#eef2f7;
  color:#1a2a45;
  text-align:center
}
header{
  background:#002b5c;
  color:#fff;
  padding:16px;
  font-size:18px;
  font-weight:bold
}
.container{
  max-width:420px;
  margin:30px auto;
  background:#fff;
  padding:25px;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.15)
}
h2{margin-top:0}
input,select,button{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:15px
}
button{
  background:#ff6600;
  color:#fff;
  border:none;
  cursor:pointer
}
button:hover{opacity:.9}
.resultado{
  margin-top:15px;
  background:#f1f5fb;
  padding:12px;
  border-radius:8px;
  font-size:14px;
  text-align:left
}
footer{
  margin:25px 10px;
  font-size:12px;
  color:#666
}

/* ===== MODALES ===== */
.modal-bg{
  display:none;
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,.6);
  z-index:1000
}
.modal{
  background:#fff;
  max-width:420px;
  margin:60px auto;
  padding:20px;
  border-radius:10px;
  text-align:left
}
.modal h3{text-align:center;margin-top:0}
.close{background:#ccc;color:#000}
</style>
</head>

<body>

<header> Portal oficial de verificaci贸n 路 D铆a Seguro SURA</header>

<div class="container">
  <h2>Consulta de p贸lizas</h2>
  <input id="buscar" placeholder="N煤mero de p贸liza">
  <button onclick="consultar()">Consultar</button>
  <div id="resultado" class="resultado" style="display:none"></div>
</div>

<footer>
Sistema privado de verificaci贸n<br>
rea de ventas y soporte<br>
漏 D铆a Seguro SURA
</footer>

<!-- ===== LOGIN ADMIN ===== -->
<div id="loginBG" class="modal-bg">
  <div class="modal">
    <h3>Acceso administrativo</h3>
    <input type="password" id="adminPass" placeholder="Contrase帽a">
    <button onclick="login()">Entrar</button>
    <button class="close" onclick="cerrarLogin()">Cancelar</button>
  </div>
</div>

<!-- ===== PANEL ADMIN ===== -->
<div id="adminBG" class="modal-bg">
  <div class="modal">
    <h3>Panel administrativo</h3>

    <input id="a_numero" placeholder="N煤mero de p贸liza">
    <input id="a_nombre" placeholder="Nombre del conductor">
    <input id="a_marca" placeholder="Marca">
    <input id="a_modelo" placeholder="Modelo">
    <input id="a_anio" placeholder="A帽o">
    <input id="a_color" placeholder="Color">

    <select id="a_estatus">
      <option> EN PROCESO DE VENTA</option>
      <option> ACTIVA</option>
      <option> CANCELADA</option>
    </select>

    <select id="a_plan">
      <option>Plus</option>
      <option>B谩sico</option>
    </select>

    <select id="a_vigencia">
      <option>ANUAL</option>
      <option>3 MESES</option>
    </select>

    <button onclick="guardar()">Guardar / Actualizar</button>
    <button class="close" onclick="cerrarAdmin()">Cerrar</button>
  </div>
</div>

<script>
const ADMIN_PASS="moreno476";
const POLIZA_PROTEGIDA="0332";

function getDB(){
  return JSON.parse(localStorage.getItem("polizas")||"{}");
}
function setDB(db){
  localStorage.setItem("polizas",JSON.stringify(db));
}

/* ===== CONSULTA ===== */
function consultar(){
  const n=document.getElementById("buscar").value.trim();
  const r=document.getElementById("resultado");
  const db=getDB();
  r.style.display="block";

  if(n===POLIZA_PROTEGIDA){
    r.innerHTML=`
    <b>P贸liza 0332</b><br>
    Conductor: ALIN MONSERRAT SUASTEGUI MENDOZA<br>
    Marca: Chevrolet<br>
    Modelo: Spark<br>
    A帽o: 2017<br>
    Plan: Plus<br>
    Vigencia: ANUAL<br>
    Estatus:  ACTIVA`;
    return;
  }

  if(!db[n]){
    r.innerHTML=" P贸liza en proceso de venta o registro";
    return;
  }

  const p=db[n];
  r.innerHTML=`
  <b>P贸liza ${n}</b><br>
  Conductor: ${p.nombre}<br>
  Veh铆culo: ${p.marca} ${p.modelo}<br>
  A帽o: ${p.anio}<br>
  Color: ${p.color}<br>
  Plan: ${p.plan}<br>
  Vigencia: ${p.vigencia}<br>
  Estatus: ${p.estatus}`;
}

/* ===== ADMIN ===== */
document.addEventListener("keydown",e=>{
  if(e.ctrlKey && e.key.toLowerCase()==="d"){
    e.preventDefault();
    document.getElementById("loginBG").style.display="block";
  }
});

function login(){
  if(adminPass.value===ADMIN_PASS){
    document.getElementById("loginBG").style.display="none";
    document.getElementById("adminBG").style.display="block";
  } else alert("Contrase帽a incorrecta");
}
function cerrarLogin(){
  document.getElementById("loginBG").style.display="none";
}
function cerrarAdmin(){
  document.getElementById("adminBG").style.display="none";
}

/* ===== AUTOCARGA PARA EDITAR ===== */
document.getElementById("a_numero").addEventListener("input",()=>{
  const n=a_numero.value.trim();
  const db=getDB();
  if(db[n]){
    const p=db[n];
    a_nombre.value=p.nombre;
    a_marca.value=p.marca;
    a_modelo.value=p.modelo;
    a_anio.value=p.anio;
    a_color.value=p.color;
    a_estatus.value=p.estatus;
    a_plan.value=p.plan;
    a_vigencia.value=p.vigencia;
  }
});

/* ===== GUARDAR ===== */
function guardar(){
  const n=a_numero.value.trim();
  if(n===POLIZA_PROTEGIDA){
    alert("La p贸liza 0332 est谩 protegida");
    return;
  }
  const db=getDB();
  db[n]={
    nombre:a_nombre.value,
    marca:a_marca.value,
    modelo:a_modelo.value,
    anio:a_anio.value,
    color:a_color.value,
    estatus:a_estatus.value,
    plan:a_plan.value,
    vigencia:a_vigencia.value
  };
  setDB(db);
  alert("P贸liza guardada / actualizada correctamente");
}
</script>

</body>
</html>
